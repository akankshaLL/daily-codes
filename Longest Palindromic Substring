#include<string.h>
#include<stdlib.h>

char* longestPalindrome(char*s){
    int n=strlen(s);
    if(n<2)return s;

    int start=0,maxlen =1;

    for(int i=0;i<n;){
        int left=i,right=i;
        while(right<n-1 && s[right]==s[right+1])right++;
        i=right+1;

        while(left>0 && right <n-1 && s[left-1]==s[right+1]){
            left--;
            right++;
        }
        if(right-left+1>maxlen){
            start=left;
            maxlen=right-left+1;
        }
    }
    char*result =(char*)malloc(maxlen+1);
    strncpy(result,s+start,maxlen);
    result[maxlen]='\0';
    return result;
}
