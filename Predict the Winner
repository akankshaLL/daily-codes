class Solution {
public:
    bool predictTheWinner(vector<int>& nums) {
        return canWin(nums, 0, nums.size() - 1) >= 0;
    }
private:
    int canWin(vector<int>& nums, int start, int end) {
        if (start == end) {
            return nums[start];
        }

        int scoreStart = nums[start] - canWin(nums, start + 1, end);
        int scoreEnd = nums[end] - canWin(nums, start, end - 1);

        return max(scoreStart, scoreEnd);
    }
};
